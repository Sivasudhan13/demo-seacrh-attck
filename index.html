<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Form with Google Login and Search</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body style="font-family: Arial, sans-serif; padding: 20px; max-width: 500px; margin: auto;">

<!-- Your existing form -->
<form
  action="https://formspree.io/f/mjkaeezn"
  method="POST"
  style="display: flex; flex-direction: column; gap: 15px; border: 1px solid #ccc; padding: 20px; border-radius: 8px;"
>
  <label style="display: flex; flex-direction: column; font-weight: bold; font-size: 14px;">
    Your email:
    <input
      type="email"
      name="email"
      id="email"
      required
      style="padding: 8px; margin-top: 5px; font-size: 14px; border: 1px solid #aaa; border-radius: 4px;"
    >
  </label>
  <label style="display: flex; flex-direction: column; font-weight: bold; font-size: 14px;">
    Your message:
    <textarea
      name="message"
      required
      style="padding: 8px; margin-top: 5px; font-size: 14px; border: 1px solid #aaa; border-radius: 4px; resize: vertical; min-height: 80px;"
    ></textarea>
  </label>
  
  <button
    type="submit"
    style="padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;"
    onmouseover="this.style.backgroundColor='#45a049'"
    onmouseout="this.style.backgroundColor='#4CAF50'"
  >
    Send
  </button>
</form>

<hr style="margin: 30px 0;">

<!-- Google Login button -->
<div
  id="g_id_onload"
  data-client_id="YOUR_GOOGLE_CLIENT_ID"
  data-callback="handleCredentialResponse"
  data-auto_prompt="false"
  style="margin-bottom: 15px;"
></div>

<div class="g_id_signin" data-type="standard"></div>

<script>
  function handleCredentialResponse(response) {
    const data = parseJwt(response.credential);
    console.log('User info:', data);
    document.getElementById('email').value = data.email;
  }

  function parseJwt(token) {
    var base64Url = token.split('.')[1];
    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
    return JSON.parse(jsonPayload);
  }
</script>

<hr style="margin: 30px 0;">

<!-- Search Bar -->
<form
  action="https://www.google.com/search"
  method="GET"
  target="_blank"
  style="display: flex; gap: 10px; align-items: center;"
>
  <label for="search-input" style="font-weight: bold; font-size: 14px;">
    Search Google:
  </label>
  <input
    id="search-input"
    type="text"
    name="q"
    placeholder="Search here..."
    required
    style="flex-grow: 1; padding: 8px; font-size: 14px; border: 1px solid #aaa; border-radius: 4px;"
  >
  <button
    type="submit"
    style="padding: 8px 16px; background-color: #2196F3; color: white; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;"
    onmouseover="this.style.backgroundColor='#1976D2'"
    onmouseout="this.style.backgroundColor='#2196F3'"
  >
    Search
  </button>
</form>

</body>
</html>
